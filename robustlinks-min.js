function isURL(e){return Boolean(e)&&(hasHTTPRegexp.test(e)||!hasColonRegexp.test(e))}function appendHiddenLink(e,t,r){var n=document.createElement("li"),a=document.createElement("div"),i=document.createElement("a");i.setAttribute("class","robustLinks RLItem"),i.href=r,i.innerHTML=t,a.appendChild(i),n.appendChild(a),e.appendChild(n)}function addZero(e){return 10>e&&(e="0"+e),e}function formatDate(e){var t=new Date(e);if(isNaN(t)&&(t=new Date(e.replace(/ /g,"T")),isNaN(t)))return"Invalid date";var r="";return r+=t.getUTCFullYear(),r+=addZero(t.getUTCMonth()+1),r+=addZero(t.getUTCDate()),r+=addZero(t.getUTCHours()),r+=addZero(t.getUTCMinutes()),r+=addZero(t.getUTCSeconds())}function printDate(e){var t=formatDate(e),r=t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2);return"000000"!=t.substr(8,6)&&(r+=" "+t.substr(8,2)+":"+t.substr(10,2)+":"+t.substr(12,2)),r}function printDomainName(e){var t=e.match(domainRegExp);if(t&&t.length>1){var r=t[1],n=15;return r.length>n?r.substr(0,n)+"...":r}return"unknown archive"}function closeLastOpen(){lastOpen&&(lastOpen.setAttribute("aria-hidden","true"),lastOpen=null)}var showFooter=!0,restrictedURIs=["http://dx.doi.org*","http://arxiv.org*","https?://chrome.google.com*"],hasHTTPRegexp=/^https?:/,hasColonRegexp=/:/,baseRestrictedURI=["https?://web.archive.org/*"],restrictedRegexp=new RegExp("(?:"+restrictedURIs.concat(baseRestrictedURI).join(")|(?:")+")");Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=this.length;t--;)if(this[t]===e)return t;return-1});var ID=function(){return"robustLinks_"+Math.random().toString(36).substr(2,9)},domainRegExp=new RegExp("(?:https?://)?(?:www\\.)?((?:[A-Za-z0-9_\\.])+)(?:/.*)?","i"),lastOpen;document.addEventListener("DOMContentLoaded",function(){for(var e=document.getElementsByTagName("meta"),t=!1,r="",n="",a=0;a<e.length&&!t;a++)if("datePublished"==e[a].getAttribute("itemprop")){var i=e[a].getAttribute("content");t=!0,r=formatDate(i),n=printDate(i)}for(var o=document.getElementsByTagName("a"),a=0;a<o.length;a++){var s=o[a].getAttribute("href"),d=o[a].getAttribute("data-originalurl"),u=Boolean(d);u||(d=s);var l=o[a].getAttribute("data-versionurl"),p=Boolean(l);!p&&u&&(l=s);var c=o[a].getAttribute("data-versiondate"),m=Boolean(c),b=o[a].href.length>0&&(" "+o[a].className+" ").indexOf(" robustLinks ")<0&&(t||u||p||m)&&!restrictedRegexp.test(o[a].getAttribute("href"))&&isURL(o[a].href);if(b){var g=ID(),h=document.createElement("span");h.setAttribute("role","navigation"),h.setAttribute("aria-label","RLElement");var f=document.createElement("ul"),v=document.createElement("li");v.setAttribute("aria-label","RLOuter");var L=document.createElement("a");L.href="",L.setAttribute("aria-haspopup","true"),L.setAttribute("class","robustLinks dropDownButton RLArrow"),L.setAttribute("aria-controls",g);var R=document.createElement("div");R.setAttribute("class","robustLinks dropDownButton RLIcon");var A=document.createElement("ul");A.setAttribute("class","RLMenu"),A.id=g,A.setAttribute("aria-hidden","true");var E=document.createElement("li");if(E.setAttribute("class","RLTitle"),E.innerHTML="Robust Links",A.appendChild(E),t){var w="http://timetravel.mementoweb.org/memento/"+r+"/"+d;appendHiddenLink(A,"Get near page date "+n,w)}if(m){var C=formatDate(c),w="http://timetravel.mementoweb.org/memento/"+C+"/"+d;appendHiddenLink(A,"Get near link date "+printDate(c),w)}(p||u)&&appendHiddenLink(A,"Get from "+printDomainName(l),l),u&&appendHiddenLink(A,"Get at current date",d),v.appendChild(L),v.appendChild(A),f.appendChild(v),h.appendChild(f),L.parentNode.insertBefore(R,L),L.onclick=function(e){var t=document.getElementById(this.getAttribute("aria-controls")),r="true"==t.getAttribute("aria-hidden");return closeLastOpen(),r?(t.setAttribute("aria-hidden","false"),lastOpen=t):(t.setAttribute("aria-hidden","true"),lastOpen=null),e.stopPropagation(),!1},o[a].parentNode.insertBefore(h,o[a].nextSibling)}}if(document.onclick=closeLastOpen,showFooter){var T=document.createElement("footer");T.setAttribute("class","RLFooter"),T.innerHTML='<span style="">Powered by: </span><span><a href="http://robustlinks.mementoweb.org/">Robust Links</a></span> <span class="RLIcon"></span>',document.getElementsByTagName("body")[0].appendChild(T)}},!1);